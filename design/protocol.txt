Communications are generally query-response. Acknowledgements are given by the server before client makes new requests.

Communicated data are space-separated arguments. Exceptions are:
	quotes: "This is all one thing" and "He said ""I can use double quotes"" when escaping"
	hashes: #41 This is a dump of data so many bytes long
Command and argument sets are separated by linefeeds. Carriage returns not part of arguments are ignored.

Notation:
	Indentation represents branches in conversation tree.
	(again x) means go back to the start of the indentation x levels up (0 means same level)

Connection created:
	Server: IAmA PSIRServer 0.0.0
	Server: WhatAreYou
	Client: IAmA User [VERSION]
			Server: WhatDoYouWant
					Client: Login USER_ID
							Server: GiveKey   // Simplification: like password
							Client: HereIs Key KEY
									Server: Accepted
										Rejected
										  (again 1)
						  (again 1)
						Scan
							Server: Give Image
							Client: HereIs Image #BYTES DUMPS_DATA
							Server: HereAre Products
									Server: HereIs Product PRODUCT_ID
									...
									Server: EndList
				          	  (again 1)
						Give ProductDescription PRODUCT_ID
							Server: HereIs ProductDescription
									Server: HereIs Offer OFFER_ID
									...
									Server: EndList
					  	  (again 1)
						Give OfferDescription OFFER_ID
							Server: HereIs OfferDescription
									Server: HereIs Product PRODUCT_ID
									Server: HereIs Price MONEY
									...
									Server: EndList
						  (again 1)
						Purchase
							Server: FillCart
									Client: AddToCart OFFER_ID COUNT
									Client: AddToCart OFFER_ID COUNT
											...
									...
									Client: Submit
							Server: Give Address
									Client: HereIs Address ADDRESS
							Server: Give Payment MONEY
									Client: PayByCard
											Client: HereIs CardNumber NUMBER
											Client: HereIs CardExpires DATA
											Client: HereIs CardSecurityCode CODE
											...
											Client: Submit
													Server: Accept
														Reject
													  	  (again 1)
									...
							Server: Receipt ORDER_ID
						  (again 1)
						RegisterUser
							Server: Give Key
							Client: HereIs Key KEY
							Server: YouAre USER_ID   // Phone doesn't care about usernames.
						  (again 1)
		IAmA Vendor [VERSION]
			Server: WhatDoYouWant
					Client: Login VENDOR_NAME
							Server: Give Password
							Client: HereIs Password PASSWORD
									Server: Accepted
										Rejected
										  (again 1)
						  (again 1)
						RegisterVendor
							Server: Give Username
									Client: HereIs Username VENDOR_NAME
											Server: Accepted
												Rejected   // In use
												  (again 1)
							Server: Give Password
							Client: HereIs Password PASSWORD
							Server: OK
						  (again 1)
						RegisterProduct
							Server: Give Name
									Client: HereIs Name PRODUCT_NAME
							Server: Give Description
									Client: HereIs Description DESCRIPTION
							Client: Give Images
									Client: HereIs Image #BYTES DUMPS_DATA
									Client: HereIs Image #BYTES DUMPS_DATA
									...
									EndList
							Client: Give DisplayImages
									Client: HereIs Image #BYTES DUMPS_DATA
									Client: HereIs Image #BYTES DUMPS_DATA
									...
									EndList
							Server: OfferIs OFFER_ID
						  (again 1)
						RegisterOffer
							Server: Give Product
									Client: HereIs Product PRODUCT_ID
							Server: Give Price
									Client: HereIs Price MONEY
							Server: Give Availability
									Client: HereIs Availablility COUNT
							Server: OfferIs OFFER_ID
						  (again 1)
						UpdateOffer
							Server: Give Offer
									Client: HereIs Offer OFFER_ID
							Server: Give Updates
									[Client: HereIs Product PRODUCT_ID]
									[Client: HereIs Price MONEY]
									[Client: HereIs Availability COUNT]
									Client: EndList
							Server: OK
						  (again 1)
					
